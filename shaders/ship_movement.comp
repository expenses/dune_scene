#version 450

struct Ship {
    vec3 position;
    float facing;
};

layout(set = 0, binding = 0) buffer Ships {
    Ship ships[];
};

layout(local_size_x = 64, local_size_y = 1, local_size_z = 1) in;

void main() {
    uint index = gl_GlobalInvocationID.x;

    if (index >= ships.length()) {
        return;
    }

    Ship ship = ships[index];

    ship.facing += 0.01;
    ship.position += vec3(cos(ship.facing), 0.0, sin(ship.facing)) * 0.005;

    ships[index] = ship;
}

